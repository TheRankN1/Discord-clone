<ng-container *ngIf="isOpen$ | async">
  <div *ngIf="state$ | async as state" class="modal-container">
    <div class="modal-content">
      <h3>{{ state.title }}</h3>
      <div *ngIf="state.type === 'channel'" class="channel-types">
        <span class="title">CHANNEL TYPE</span>
        <div class="types">
          <div class="type" (click)="selectText()" [class.active]="selectedChannelType === 'text'">
            <label for="radio-text">
              <div class="type-details-container">
                <app-icon name="text-channel"></app-icon>
                <div class="details">
                  <strong>Text</strong>
                  <span>Send messages,images,GIFs,emoji,opinions,and puns</span>
                </div>
              </div>
              <div class="radio"></div>
            </label>
            <div (click)="selectText()"></div>
            <input type="radio" name="channel-type" id="radio-text" value="text" [(ngModel)]="selectedChannelType" />
          </div>
          <div class="type" (click)="selectAudio()" [class.active]="selectedChannelType === 'audio'">
            <label for="radio-audio">
              <div class="type-details-container">
                <app-icon name="audio-channel"></app-icon>
                <div class="details">
                  <strong>Audio</strong>
                  <span>Hang out together with voice,video,and screen share</span>
                </div>
              </div>
              <div class="radio"></div>
            </label>
            <div (click)="selectText()"></div>
            <input type="radio" name="channel-type" id="radio-audio" value="audio" [(ngModel)]="selectedChannelType" />
          </div>
        </div>
      </div>
      <strong>{{ state.type.toUpperCase() }} NAME</strong>
      <div class="input">
        <app-icon *ngIf="selectedChannelType === 'audio' && state.type === 'channel'" class="small" name="audio-channel"></app-icon>
        <app-icon *ngIf="selectedChannelType === 'text' && state.type === 'channel'" class="small" name="text-channel"></app-icon>
        <input #inputRef type="text" [(ngModel)]="state.textInput" [attr.placeholder]="state.placeholder" />
      </div>
      <div class="buttons">
        <button  *ngIf="state.onEditMode === true" class="delete-button" (click)="delete(state)">Delete</button>
        <div class="on-edit-mode">
          <button (click)="close()">Cancel</button>
          <button  *ngIf="state.onEditMode === true" class="save-button" [disabled]="state.textInput === ''" (click)="save(state)">Save</button>
        </div>
        <ng-container *ngIf="state.onEditMode === false">
          <button class="create-button" [disabled]="state.textInput === ''" (click)="create(state)">Create</button>
        </ng-container>
      </div>
    </div>
  </div>
</ng-container>
